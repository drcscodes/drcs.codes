<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Dr. CS codes Classes</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=https://DrCS.codes/css/navbar-top-fixed.css rel=stylesheet></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/java-oop>Classes</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><main role=main class=container><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Classes</h2><div id=outline-text-headline-1 class=outline-text-2><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Classes</h3><div id=outline-text-headline-2 class=outline-text-3><p><a href=https://www.youtube.com/embed/8aXsEO2eKo4>Classes</a></p></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Anatomy of a Class</h3><div id=outline-text-headline-3 class=outline-text-3><p>By the end of next lecture, you'll understand everything in this class definition.</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> edu.gatech.cs1331.card<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Arrays<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_RANKS <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>,</span> <span style=color:#f92672>...</span> <span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_SUITS <span style=color:#f92672>=</span> <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;diamonds&#34;</span><span style=color:#f92672>,</span> <span style=color:#f92672>...</span> <span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>(</span>String aRank<span style=color:#f92672>,</span> String aSuit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> rank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; of &#34;</span> <span style=color:#f92672>+</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isValidRank</span><span style=color:#f92672>(</span>String someRank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#f92672>...</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>The Card Class Example</h3><div id=outline-text-headline-4 class=outline-text-3><p>In this lecture we'll use a running example stored in a Git repo. Go to <a href=https://gitlab.com/cs1331/card><a href=https://gitlab.com/cs1331/card>https://gitlab.com/cs1331/card</a></a>, click on "Clone or download" and copy the clone URL. Then open your terminal and do this:</p><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>cd cs1331
</span></span><span style=display:flex><span>git clone https://gitlab.com/cs1331/card.git
</span></span><span style=display:flex><span>cd card</span></span></code></pre></div></div><p>Note that if you've uplaoded your public SSH key you may use an SSH clone URL.</p><p>Now you're ready to follow along. Start by checking out v0.0 <sup class=footnote-reference><a id=footnote-reference-1 href=#footnote-1>1</a></sup>:</p><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git checkout v0.0</span></span></code></pre></div></div></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>A Card Class, v0.0</h3><div id=outline-text-headline-5 class=outline-text-3><p>Consider how to represent a Card ADT:</p><ul><li>rank - the rank of a playing card, e.g., 2, jack, ace</li><li>suit - the suit of a playing card, e.g., spades, diamonds</li></ul><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><ul><li><code>rank</code> and <code>suit</code> are instance variables</li><li>Every <strong>instance</strong> of <code>Card</code> has its own copy of instance variables.</li></ul><p>Let's "do something" with <code>Card</code> by adding a main method and bumping to v0.1.</p></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6><code>Card</code> v0.1</h3><div id=outline-text-headline-6 class=outline-text-3><p>After</p><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git checkout v0.1</span></span></code></pre></div></div><p>we have (we won't include the git commands in future slides):</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Note that we can put a <code>main</code> method in any class. This is useful for exploratory testing, like we're doing here.</p><p>The <code>String</code> representation isn't very appealing. (What does it print?)</p></div></div><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7><code>Card</code> v0.2</h3><div id=outline-text-headline-7 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> rank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; of &#34;</span> <span style=color:#f92672>+</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card swedishPop <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        swedishPop<span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        swedishPop<span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        Card handy <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        handy<span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;jack&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        handy<span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;all trades&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>swedishPop<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>handy<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Now we have a nice <code>String</code> representation, but we havve an "ace of base" card and a "jack of all trades", which aren't valid cards.</p></div></div><div id=outline-container-headline-8 class=outline-3><h3 id=headline-8>Encapsulation: Card, v1.0</h3><div id=outline-text-headline-8 class=outline-text-3><p>Let's protect the instance variables by making them private:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> rank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; of &#34;</span> <span style=color:#f92672>+</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Why does this still compile?</p><ul><li><code>main</code> method in <code>Card</code> â€“ can see <code>Card</code> 's private parts</li></ul></div></div><div id=outline-container-headline-9 class=outline-3><h3 id=headline-9>A Dealer Class, v1.1</h3><div id=outline-text-headline-9 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>This won't compile (which is what we want). Why?</p></div></div><div id=outline-container-headline-10 class=outline-3><h3 id=headline-10>Mutators: Card, v1.2</h3><div id=outline-text-headline-10 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span>String rank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        rank <span style=color:#f92672>=</span> rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span>String suit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        suit <span style=color:#f92672>=</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><ul><li>Now client code can set the rank and suit of a card by calling <code>setRank</code> and <code>setSuit</code> .</li><li><code>setX</code> is the Java convention for a setter method for an instance variable named <code>x</code> .</li></ul></div></div><div id=outline-container-headline-11 class=outline-3><h3 id=headline-11>Dealing <code>Card</code> , v1.2</h3><div id=outline-text-headline-11 class=outline-text-3><p>Let's try out our new <code>Card</code> class.</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Oops. Prints "null of null". Why?</p></div></div><div id=outline-container-headline-12 class=outline-3><h3 id=headline-12>Shadowing Variables</h3><div id=outline-text-headline-12 class=outline-text-3><p>The parameters in the setters "shadowed" the instance variables:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span>String rank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    rank <span style=color:#f92672>=</span> rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span>String suit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    suit <span style=color:#f92672>=</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><ul><li><code>rank</code> in <code>setRank</code> refers to the local <code>rank</code> variable, not the instance variable of the same name</li><li><code>suit</code> in <code>setSuit</code> refers to the local <code>suit</code> variable, not the instance variable of the same name</li></ul></div></div><div id=outline-container-headline-13 class=outline-3><h3 id=headline-13>Dealing with <code>this</code> : Card, v1.2.1</h3><div id=outline-text-headline-13 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span>String rank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span>String suit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span> <span style=color:#f92672>=</span> suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><ul><li>Every instance of a class has a <code>this</code> reference which refers to the instance on which a method is being called.</li><li><code>this.rank</code> refers to the <code>rank</code> instance variable for the <code>Card</code> instance on which <code>setRank</code> is being called.</li><li><code>this.rank</code> is different from the local <code>rank</code> variable that is a parameter to the <code>setRank</code> method.</li></ul></div></div><div id=outline-container-headline-14 class=outline-3><h3 id=headline-14>Dealing <code>Card</code> , v1.2.1</h3><div id=outline-text-headline-14 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Now we have encapsulation, but we can still create invalid <code>Card</code> s, e.g., "base" is not a valid suit. How to fix?</p></div></div><div id=outline-container-headline-15 class=outline-3><h3 id=headline-15>Class Invariants</h3><div id=outline-text-headline-15 class=outline-text-3><p>Class invariant: a condition that must hold for all instances of a class in order for instances of the class to be considered valid.</p><p>Invariants for Card class:</p><ul><li><code>rank</code> must be one of {"2", "3", "4", "5", "6", "7", "8", "9",
"10", "jack", "queen", "king", "ace"}</li><li><code>suit</code> must be one of {"diamonds", "clubs", "hearts","spades"}</li></ul></div></div><div id=outline-container-headline-16 class=outline-3><h3 id=headline-16>Class Invariants: Card v1.3</h3><div id=outline-text-headline-16 class=outline-text-3><p><code>rank</code> invariant can be maintained by adding:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_RANKS <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;5&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;6&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;7&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;8&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;9&#34;</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;10&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;jack&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;queen&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;king&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span>String rank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>isValidRank<span style=color:#f92672>(</span>rank<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>rank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is not a valid rank.&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>            System<span style=color:#f92672>.</span><span style=color:#a6e22e>exit</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span> <span style=color:#f92672>=</span> rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>isValidRank</span><span style=color:#f92672>(</span>String someRank<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> contains<span style=color:#f92672>(</span>VALID_RANKS<span style=color:#f92672>,</span> someRank<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>contains</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> array<span style=color:#f92672>,</span> String item<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>String element<span style=color:#f92672>:</span> array<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>element<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>item<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-17 class=outline-3><h3 id=headline-17>Class Invariants Ensure Consistent Objects</h3><div id=outline-text-headline-17 class=outline-text-3><p>Now we can't write code that instantiates an invalid <code>Card</code> object:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>yields:</p><div class="src src-bash"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ java Dealer
</span></span><span style=display:flex><span>base is not a valid suit.</span></span></code></pre></div></div></div></div><div id=outline-container-headline-18 class=outline-3><h3 id=headline-18><code>Dealer</code> v1.3.1</h3><div id=outline-text-headline-18 class=outline-text-3><p>Version 1.3.1 fixes the invalid suit:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;spades&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-19 class=outline-3><h3 id=headline-19>Initializing Instances (v1.4)</h3><div id=outline-text-headline-19 class=outline-text-3><p><code>Card</code> now ensures that we don't create card objects with invalid ranks or suits.
But consider this slight modification to <code>Dealer</code> in v1.4:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer5</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span> <span style=color:#75715e>// Printing a new Card instance
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setSuit</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>What if we printed our <code>Card</code> instance, <code>c</code> , before we called the setters?</p></div></div><div id=outline-container-headline-20 class=outline-3><h3 id=headline-20>Object Initialization</h3><div id=outline-text-headline-20 class=outline-text-3><p>Two ways to initialize the instance variables of an object:</p><ul><li>Declaration point initialization:</li></ul><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String rank <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span></span></span></code></pre></div></div><ul><li>Constructors</li></ul><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>      rank <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>A constructor is what's being called when you invoke operator <code>new</code> .</p></div></div><div id=outline-container-headline-21 class=outline-3><h3 id=headline-21>Initializing Objects</h3><div id=outline-text-headline-21 class=outline-text-3><p>Since we didn't write our own constructor, Java provided a default no-arg constructor</p><ul><li>default no-arg ctor sets instance variables (that don't have their own declaration-point intializations) to their default values.</li></ul><p>That's why a <code>Card</code> object's instance variables are <code>null</code> (" <code>null of null</code> ") after they're instantiated. We have to call the setters on a <code>Card</code> instance before we have a valid object.</p></div></div><div id=outline-container-headline-22 class=outline-3><h3 id=headline-22>Innitialization Style</h3><div id=outline-text-headline-22 class=outline-text-3><p>In general, it's poor style to require multi-step initialization.</p><ul><li>After <code>new Card()</code> is called, instance variables have useless defaults.</li><li>Client programmer must remember to call setter methods.</li><li>Often there can be order dependencies that we don't want to burden client programmers with.</li></ul><p>The way to fix this is by writing our own constructor.</p></div></div><div id=outline-container-headline-23 class=outline-3><h3 id=headline-23>A Constructor for Card, v2.0</h3><div id=outline-text-headline-23 class=outline-text-3><p>If we write a constructor, Java won't provide a default no-arg constructor.</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>(</span>String rank<span style=color:#f92672>,</span> String suit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        setRank<span style=color:#f92672>(</span>rank<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        setSuit<span style=color:#f92672>(</span>suit<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>If we want a no-arg constructor in addition to other constructors, we must write it explicitly.</p></div></div><div id=outline-container-headline-24 class=outline-3><h3 id=headline-24><code>Dealer</code> v2.0</h3><div id=outline-text-headline-24 class=outline-text-3><p>Now this won't even compile:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ javac Dealer.java
</span></span><span style=display:flex><span>Dealer.java:4: error: constructor Card in class Card cannot be applied to given types;
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> new Card<span style=color:#f92672>()</span>;
</span></span><span style=display:flex><span>                 ^
</span></span><span style=display:flex><span>  required: String,String
</span></span><span style=display:flex><span>  found: no arguments
</span></span><span style=display:flex><span>  reason: actual and formal argument lists differ in length
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> error</span></span></code></pre></div></div></div></div><div id=outline-container-headline-25 class=outline-3><h3 id=headline-25>Using the Card v2.0.1 Constructor</h3><div id=outline-text-headline-25 class=outline-text-3><p>Now we have a safer, more consistent way to initialize objects:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;queen&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;hearts&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-26 class=outline-3><h3 id=headline-26>Intermission</h3><div id=outline-text-headline-26 class=outline-text-3><div class=center-block style=text-align:center;margin-left:auto;margin-right:auto><p><img src=AceofBaseTheSignAlbumcover.jpg alt=AceofBaseTheSignAlbumcover.jpg title=AceofBaseTheSignAlbumcover.jpg></p></div><p>Source: <a href=http://en.wikipedia.org/wiki/File:AceofBaseTheSignAlbumcover.jpg>Wikipedia</a></p></div></div><div id=outline-container-headline-27 class=outline-3><h3 id=headline-27>Progress Check</h3><div id=outline-text-headline-27 class=outline-text-3><p>Let's review our progress with our Card class design:</p><ul><li>We have a nice string representation of Card objects.</li><li>We have encapsulated the rank and suit in private instance variables with mutator methods to set their values.</li><li>We validate the rank and suit in the mutator methods so we can't set invalid ranks and suits in Card objects.</li><li><code>Card</code> has a constructor, which ensures that instance variables are initialized when an instance of <code>Card</code> is created.</li></ul></div></div><div id=outline-container-headline-28 class=outline-3><h3 id=headline-28>Valid Ranks and Suits</h3><div id=outline-text-headline-28 class=outline-text-3><p>Recall the declarations and definitions of our <code>VALID_RANKS</code> and <code>VALID_SUITS</code> :</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_RANKS <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;5&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;6&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;7&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;8&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;9&#34;</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>     <span style=color:#e6db74>&#34;10&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;jack&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;queen&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;king&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_SUITS <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;diamonds&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;clubs&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;hearts&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;spades&#34;</span><span style=color:#f92672>};</span></span></span></code></pre></div></div><p>Do we need a separate instance of <code>VALID_RANKS</code> and <code>VALID_SUITS</code> for each instance of our Card class?</p></div></div><div id=outline-container-headline-29 class=outline-3><h3 id=headline-29>Static Members, Card v2.1</h3><div id=outline-text-headline-29 class=outline-text-3><p><code>static</code> members are shared with all instances of a class:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_RANKS <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;5&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;6&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;7&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;8&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;9&#34;</span><span style=color:#f92672>,</span>
</span></span><span style=display:flex><span>     <span style=color:#e6db74>&#34;10&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;jack&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;queen&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;king&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;ace&#34;</span><span style=color:#f92672>};</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> String<span style=color:#f92672>[]</span> VALID_SUITS <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span><span style=color:#e6db74>&#34;diamonds&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;clubs&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;hearts&#34;</span><span style=color:#f92672>,</span><span style=color:#e6db74>&#34;spades&#34;</span><span style=color:#f92672>};</span></span></span></code></pre></div></div><p>Given the declarations above:</p><ul><li>Each instance shares a single copy of <code>VALID_RANKS</code> and a single copy of <code>VALID_SUITS</code></li><li>Since they're <code>final</code> , we can safely make them <code>public</code> so clients of our Card class can use them</li></ul></div></div><div id=outline-container-headline-30 class=outline-3><h3 id=headline-30>Stateful <code>Card</code> Objects?</h3><div id=outline-text-headline-30 class=outline-text-3><p><code>Card</code> v2.1 is pretty good, but we can write code like this:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Dealer</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Card c <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;queen&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;hearts&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        c<span style=color:#f92672>.</span><span style=color:#a6e22e>setRank</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;jack&#34;</span><span style=color:#f92672>);</span> <span style=color:#75715e>// modifying c
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>c<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Does this make sense? Should Card objects be mutable?</p></div></div><div id=outline-container-headline-31 class=outline-3><h3 id=headline-31>Immutable Objects</h3><div id=outline-text-headline-31 class=outline-text-3><p>Card objects don't change. We can model this behavior by removing the setters and putting the initialization code in the constructor (or making the setters private and calling them from the constructor):</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>(</span>String aRank<span style=color:#f92672>,</span> String aSuit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#75715e>// constructor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>isValidRank<span style=color:#f92672>(</span>rank<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>aRank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is not a valid rank.&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>exit</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  rank <span style=color:#f92672>=</span> aRank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!</span>isValidSuit<span style=color:#f92672>(</span>aSuit<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>aSuit <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is not a valid suit.&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>exit</span><span style=color:#f92672>(</span><span style=color:#ae81ff>0</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>  suit <span style=color:#f92672>=</span> aSuit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Note the use of another idiom for disambiguating constructor paramters from instance variables (as opposed to using <code>this</code> ).</p></div></div><div id=outline-container-headline-32 class=outline-3><h3 id=headline-32>A Few Final Bits of Polish</h3><div id=outline-text-headline-32 class=outline-text-3><p>Take a look at the final evolution of our Card class.</p><div class="src src-sh"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git checkout master</span></span></code></pre></div></div><p>It contains a few more enhancements:</p><ul><li><p>It has an <code>equals()</code> method for comparing cards of equal value.</p><ul><li>We'll learn the role of the <code>equals</code> method today and learn how to write one in a couple of weeks.</li></ul></li><li>It uses <code>enum</code> s for rank and suit.</li></ul></div></div><div id=outline-container-headline-33 class=outline-3><h3 id=headline-33>Enums</h3><div id=outline-text-headline-33 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>enum</span> Rank <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    TWO<span style=color:#f92672>,</span> THREE<span style=color:#f92672>,</span> FOUR<span style=color:#f92672>,</span> FIVE<span style=color:#f92672>,</span> SIX<span style=color:#f92672>,</span> SEVEN<span style=color:#f92672>,</span> EIGHT<span style=color:#f92672>,</span> NINE<span style=color:#f92672>,</span> TEN<span style=color:#f92672>,</span> JACK<span style=color:#f92672>,</span> QUEEN<span style=color:#f92672>,</span> KING<span style=color:#f92672>,</span> ACE
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>enum</span> Rank <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    TWO<span style=color:#f92672>,</span> THREE<span style=color:#f92672>,</span> FOUR<span style=color:#f92672>,</span> FIVE<span style=color:#f92672>,</span> SIX<span style=color:#f92672>,</span> SEVEN<span style=color:#f92672>,</span> EIGHT<span style=color:#f92672>,</span> NINE<span style=color:#f92672>,</span> TEN<span style=color:#f92672>,</span> JACK<span style=color:#f92672>,</span> QUEEN<span style=color:#f92672>,</span> KING<span style=color:#f92672>,</span> ACE
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Now we get static type checking for <code>Rank</code> and <code>Suit</code> â€“ no need for run-time validity checks.</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Rank rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Suit suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>(</span>Rank aRank<span style=color:#f92672>,</span> Suit aSuit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        rank <span style=color:#f92672>=</span> aRank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        suit <span style=color:#f92672>=</span> aSuit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-34 class=outline-3><h3 id=headline-34>Equality</h3><div id=outline-text-headline-34 class=outline-text-3><ul><li><p>For reference types:</p><ul><li><code>==</code> means identity equality (aliasing testing).</li><li><code>equals(Object)</code> tests value equality, as defined by the class.</li></ul></li><li>For primitive types <code>==</code> means value equality and is the only equality test.</li></ul><p>Here's the final <code>Card</code> class, with a definition of value equality for <code>Card</code> instances:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Card</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Rank rank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Suit suit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Card</span><span style=color:#f92672>(</span>Rank aRank<span style=color:#f92672>,</span> Suit aSuit<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        rank <span style=color:#f92672>=</span> aRank<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        suit <span style=color:#f92672>=</span> aSuit<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> rank <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; of &#34;</span> <span style=color:#f92672>+</span> suit<span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>Object other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>null</span> <span style=color:#f92672>==</span> other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>this</span> <span style=color:#f92672>==</span> other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span><span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(!(</span>other <span style=color:#66d9ef>instanceof</span> Card<span style=color:#f92672>))</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        Card that <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>Card<span style=color:#f92672>)</span> other<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>that<span style=color:#f92672>.</span><span style=color:#a6e22e>rank</span><span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span><span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>that<span style=color:#f92672>.</span><span style=color:#a6e22e>suit</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-35 class=outline-3><h3 id=headline-35>Equality Tests</h3><div id=outline-text-headline-35 class=outline-text-3><p>Given our finished Card class with a properly implemented <code>equals(Object)</code> method, this code:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Card c1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>(</span>Rank<span style=color:#f92672>.</span><span style=color:#a6e22e>ACE</span><span style=color:#f92672>,</span> Suit<span style=color:#f92672>.</span><span style=color:#a6e22e>SPADES</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Card c2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Card<span style=color:#f92672>(</span>Rank<span style=color:#f92672>.</span><span style=color:#a6e22e>ACE</span><span style=color:#f92672>,</span> Suit<span style=color:#f92672>.</span><span style=color:#a6e22e>SPADES</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Card c3 <span style=color:#f92672>=</span> c1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c1 == c2 returns &#34;</span> <span style=color:#f92672>+</span> <span style=color:#f92672>(</span>c1 <span style=color:#f92672>==</span> c2<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c1.equals(c2) returns &#34;</span> <span style=color:#f92672>+</span> c1<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>c2<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c1 == c3 returns &#34;</span> <span style=color:#f92672>+</span> <span style=color:#f92672>(</span>c1 <span style=color:#f92672>==</span> c3<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;c1.equals(c3) returns &#34;</span> <span style=color:#f92672>+</span> c1<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>c3<span style=color:#f92672>));</span></span></span></code></pre></div></div><p>produces this output:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>  c1 <span style=color:#f92672>==</span> c2 returns <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>  c1<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>c2<span style=color:#f92672>)</span> returns <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  c1 <span style=color:#f92672>==</span> c3 returns <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  c1<span style=color:#f92672>.</span><span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>c3<span style=color:#f92672>)</span> returns <span style=color:#66d9ef>true</span></span></span></code></pre></div></div><p>By the way, what if we left off the parentheses around <code>c1 == c2</code> in <code>System.out.println("c1 == c2 returns " + (c1 == c2))</code> ?</p></div></div><div id=outline-container-headline-36 class=outline-3><h3 id=headline-36>Exercise: Treating People as Objects</h3><div id=outline-text-headline-36 class=outline-text-3><p>Using the encapsulation techniques we just learned, write a class named <code>Person</code> with a <code>name</code> field of type <code>String</code> and an <code>age</code> field of type <code>int</code> .</p><p>Write a suitable <code>toString</code> method for your <code>Person</code> class.</p><p>Add a main method that:</p><ul><li>Creates an array of <code>Person</code> objects</li><li>Iterates through the array and prints each Person object who's age is greater than 21</li></ul></div></div></div></div><div class=footnotes><hr class=footnotes-separatator><div class=footnote-definitions><div class=footnote-definition><sup id=footnote-1><a href=#footnote-reference-1>1</a></sup><div class=footnote-body><p><a href=http://semver.org/>Semantic Versioning</a></p></div></div></div></div></main><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script></body></html>