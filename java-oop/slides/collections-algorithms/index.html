<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Dr. CS codes Collections Algorithms</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=https://DrCS.codes/css/navbar-top-fixed.css rel=stylesheet></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/java-oop>Collections Algorithms</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><main role=main class=container><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Collections Algorithms</h2><div id=outline-text-headline-1 class=outline-text-2><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>The Collections Framework</h3><div id=outline-text-headline-2 class=outline-text-3><p><img src=colls-coreInterfaces.png alt=colls-coreInterfaces.png title=colls-coreInterfaces.png></p><ul><li>A <em>collection</em> is an object that represents a group of objects.</li><li>The collections framework allows different kinds of collections to be dealt with in an implementation-independent manner.</li></ul></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3><code>Collections.sort(List&lt;T> list)</code></h3><div id=outline-text-headline-3 class=outline-text-3><p>The collections framework includes algorithms that operate on collections. These algorithms are implemented as static methods of the <code>Collections</code> class. A good example is the (overloaded) <code>sort</code> method:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T <span style=color:#66d9ef>extends</span> Comparable<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>super</span> T<span style=color:#f92672>&gt;&gt;</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>List<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span></span></span></code></pre></div></div><p>This method signature demonstrates how to declare a generic method (so far we've seen only generic classs): put a type parameter before the return type.</p><ul><li>This <code>sort</code> uses the "natural ordering" of the list, that is, the ordering defined by <code>Comparable</code>.</li><li><code>&lt;? super T></code> is a <em>type bound</em>. It means "some superclass of <code>T</code>."</li></ul><p>For now just think of it this way: the type parameter <code>&lt;T extends Comparable&lt;? super T>></code> means that the element type <code>T</code> or some superclass of <code>T</code> must implement <code>Comparable</code>.</p></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>The <code>java.lang.Comparable Interface</code></h3><div id=outline-text-headline-4 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Comparable</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compareTo</span><span style=color:#f92672>(</span>T o<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p><code>compareTo(T o)</code> Compares this object with the specified object for order. Returns</p><ul><li>a negative integer if this object is less than the other object,</li><li>zero if this object is equal to the other object, or</li><li>a positive integer if this object is greater than the other object.</li></ul></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Implementing <code>java.lang.Comparable&lt;T></code></h3><div id=outline-text-headline-5 class=outline-text-3><p>Here's a <code>Person</code> class whose natural ordering is based on age:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>implements</span> Comparable<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> age<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Person</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> age<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>=</span> age<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> name<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compareTo</span><span style=color:#f92672>(</span>Person other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>-</span> other<span style=color:#f92672>.</span><span style=color:#a6e22e>age</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>Analyzing <code>&lt;T extends Comparable&lt;? super T>></code></h3><div id=outline-text-headline-6 class=outline-text-3><p>Given the <code>Collections</code> static method:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T <span style=color:#66d9ef>extends</span> Comparable<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>super</span> T<span style=color:#f92672>&gt;&gt;</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>List<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span></span></span></code></pre></div></div><p>And the classes:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>implements</span> Comparable<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GtStudent</span> <span style=color:#66d9ef>extends</span> Person <span style=color:#f92672>{</span> <span style=color:#f92672>...</span> <span style=color:#f92672>}</span></span></span></code></pre></div></div><p>Can we sort a <code>List&lt;GtStudent></code>?</p><p>Type checker "proves" that a type argument satisfies a type bound. Prove by substituting without causing contradictions:</p><blockquote><p><code>[GtStudent/T, Person/?]&lt;T extends Comparable&lt;? super T>></code>
$\Rightarrow$ <code>&lt;GtPerson extends Comparable&lt;Person super GtStudent></code></p></blockquote><p>Yes, we can sort a <code>List&lt;GtStudent></code> because</p><ul><li><code>GtStudent extends Person</code>,</li><li><code>Person implements Comparable&lt;Person></code>, so</li><li><code>GtStudent</code> is a subtype of <code>Comparable&lt;Person></code> and</li><li><code>Person</code> is a supertype of <code>GtStudent</code></li></ul></div></div><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7>Using <code>Collections.sort(List&lt;T> list)</code></h3><div id=outline-text-headline-7 class=outline-text-3><p>Given the <code>Collections</code> static method:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#f92672>&lt;</span>T <span style=color:#66d9ef>extends</span> Comparable<span style=color:#f92672>&lt;?</span> <span style=color:#66d9ef>super</span> T<span style=color:#f92672>&gt;&gt;</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>List<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> list<span style=color:#f92672>)</span></span></span></code></pre></div></div><p>We could sort a <code>List&lt;Person></code> because <code>Person implements Comparable&lt;Person></code>:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> peeps <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;();</span>
</span></span><span style=display:flex><span>peeps<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Person<span style=color:#f92672>(...));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Collections<span style=color:#f92672>.</span><span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>peeps<span style=color:#f92672>);</span></span></span></code></pre></div></div><p>And if we have a class:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GtStudent</span> <span style=color:#66d9ef>extends</span> Person <span style=color:#f92672>{</span> <span style=color:#f92672>...</span> <span style=color:#f92672>}</span></span></span></code></pre></div></div><p>We could also sort a <code>List&lt;GtStudent></code> because</p><ul><li><code>GtStudent extends Person</code>,</li><li><code>Person implements Comparable&lt;Person></code> and</li><li><code>Person</code> is a supertype of <code>GtStudent</code></li></ul></div></div><div id=outline-container-headline-8 class=outline-3><h3 id=headline-8>Using <code>Collections.sort(List&lt;T>) on Raw Lists</code></h3><div id=outline-text-headline-8 class=outline-text-3><p>Java uses <em>type erasure</em> to implement generics, meaning that the compiled code is nearly identical to non-generic code. Type erasure allows for compile-time type checking while preserving the ability to work with legacy code. So you can sort a raw <code>List</code> of <code>Person</code> using the <code>compareTo(Person)</code> method:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>List rawPeeps <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>rawPeeps<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Person<span style=color:#f92672>(...));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Collections<span style=color:#f92672>.</span><span style=color:#a6e22e>sort</span><span style=color:#f92672>(</span>rawPeeps<span style=color:#f92672>);</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-9 class=outline-3><h3 id=headline-9>Using <code>Collections.sort(List&lt;T>) on Raw Lists</code></h3><div id=outline-text-headline-9 class=outline-text-3><p>Overriding only happens when methods have identical signatures. To allow generic classes to work in non-generic settings, the compiler inserts <em>bridge</em> methods. So <code>Person</code> looks like:</p><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>implements</span> Comparable<span style=color:#f92672>&lt;</span>Person<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// This is a bridge method inserted by the compiler to allow this
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// class to work with legacy non-generic code
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compareTo</span><span style=color:#f92672>(</span>Object other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> compareTo<span style=color:#f92672>((</span>Person<span style=color:#f92672>)</span> other<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compareTo</span><span style=color:#f92672>(</span>Person other<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>age</span> <span style=color:#f92672>-</span> other<span style=color:#f92672>.</span><span style=color:#a6e22e>age</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-10 class=outline-3><h3 id=headline-10>Using <code>java.util.Comparator&lt;T></code></h3><div id=outline-text-headline-10 class=outline-text-3><div class="src src-java"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Comparator</span><span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>compare</span><span style=color:#f92672>(</span>T o1<span style=color:#f92672>,</span> T o2<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>equals</span><span style=color:#f92672>(</span>Object obj<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span></span></span></code></pre></div></div><p><code>Comparator&lt;T></code> is an interface with two methods:</p><ul><li><code>int compare(T o1, T o2)</code> - same contract as <code>o1.compareTo(o2)</code></li><li><code>boolean equals(Object obj)</code></li></ul><p>It's always safe to use the inherited <code>equals</code> method, so the one you need to implement is <code>compare</code>.\\</p><p>See <a href=../code/collections/super-troopers/SortTroopers.java>SortTroopers.java</a> and <a href=../code/collections/super-troopers/Trooper.java>Trooper.java</a> for examples using <code>Comparable</code>, <code>Comparator</code> and <code>Collections.sort(...)</code>.</p></div></div><div id=outline-container-headline-11 class=outline-3><h3 id=headline-11>Programming Exercise</h3><div id=outline-text-headline-11 class=outline-text-3><p>Write a class to represent Georgia Tech students called, say, <code>GtStudent</code>.</p><ul><li>Give <code>GtStudent</code> name, major, GPA, and year fields/properties.</li><li>Have <code>GtStudent</code> implement <code>Comparable&lt;T></code> with some ordering that makes sense to you – perhaps some majors are harder than others, so GPAs are adjusted in comparisons.</li><li>Add instances of <code>GtStudents</code> to an <code>ArrayList&lt;E></code>.</li><li>Sort the <code>ArrayList</code> of <code>GtStudent~s using ~Collections.sort(List&lt;E>)</code>.</li><li>Write a <code>Comparator&lt;GtStudent></code> and sort your list with <code>Collections.sort(List&lt;E>, Comparator&lt;E>)</code>.</li></ul><p>Extra: add thousands of randomly-gnerated <code>GtStudent~s to an ~ArrayList</code> and a <code>LinkedList</code> and time <code>Collections.sort(List&lt;E>)</code> method invocations for each of them. Is one faster? Why (or why not)?</p></div></div></div></div></main><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script></body></html>