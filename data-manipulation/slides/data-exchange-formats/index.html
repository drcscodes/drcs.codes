<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Dr. CS codes Data Exchange Formats</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=https://DrCS.codes/css/navbar-top-fixed.css rel=stylesheet></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/data-manipulation>Data Exchange Formats</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><main role=main class=container><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Data Exchange Formats</h2><div id=outline-text-headline-1 class=outline-text-2><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Data Exchange Formats</h3><div id=outline-text-headline-2 class=outline-text-3><ul><li><p>XML</p><ul><li>A verbose textual representation of trees</li></ul></li><li><p>JSON</p><ul><li>JavaScript Object notation – like a Python <code>dict</code></li></ul></li></ul></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>XML Format</h3><div id=outline-text-headline-3 class=outline-text-3><p><a href=../code/structured-files>people.xml</a>:</p><div class="src src-xml"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;people&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;person&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;firstName&gt;</span>Alan<span style=color:#f92672>&lt;/firstName&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;lastName&gt;</span>Turing<span style=color:#f92672>&lt;/lastName&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;professions&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Computer Scientist<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Mathematician<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Computer Scientist<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Cryptographer<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/professions&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/person&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;person&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;firstName&gt;</span>Stephen<span style=color:#f92672>&lt;/firstName&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;lastName&gt;</span>Hawking<span style=color:#f92672>&lt;/lastName&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;professions&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Physicist<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;profession&gt;</span>Comedian<span style=color:#f92672>&lt;/profession&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/professions&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/person&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/people&gt;</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Parsing XML with ElementTree</h3><div id=outline-text-headline-4 class=outline-text-3><p>Use Python's built-in <a href=https://docs.python.org/3/library/xml.etree.elementtree.html>ElementTree API</a></p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [<span style=color:#ae81ff>17</span>]: <span style=color:#f92672>import</span> xml.etree.ElementTree <span style=color:#66d9ef>as</span> ET
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>18</span>]: root <span style=color:#f92672>=</span> ET<span style=color:#f92672>.</span>parse(<span style=color:#e6db74>&#39;people.xml&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>21</span>]: persons <span style=color:#f92672>=</span> root<span style=color:#f92672>.</span>findall(<span style=color:#e6db74>&#34;person&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>24</span>]: <span style=color:#66d9ef>for</span> person <span style=color:#f92672>in</span> persons:
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>:     print(person<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#34;firstName&#34;</span>)<span style=color:#f92672>.</span>text, end<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>:     print(person<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#34;lastName&#34;</span>)<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>:     <span style=color:#66d9ef>for</span> profession <span style=color:#f92672>in</span> person<span style=color:#f92672>.</span>find(<span style=color:#e6db74>&#34;professions&#34;</span>):
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>:         print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#34;</span>, profession<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>:
</span></span><span style=display:flex><span>AlanTuring
</span></span><span style=display:flex><span>	 Computer Scientist
</span></span><span style=display:flex><span>	 Mathematician
</span></span><span style=display:flex><span>	 Computer Scientist
</span></span><span style=display:flex><span>	 Cryptographer
</span></span><span style=display:flex><span>StephenHawking
</span></span><span style=display:flex><span>	 Physicist
</span></span><span style=display:flex><span>	 Comedian</span></span></code></pre></div></div></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>JSON Format</h3><div id=outline-text-headline-5 class=outline-text-3><p>Just like Python data structures except:</p><ul><li>double quotes – " – for all strings</li><li><code>true</code> and <code>false</code> boolean literals instead of <code>True</code> and <code>False</code></li><li><code>null</code> instead of <code>None</code></li></ul><p>Here's the XML people example represented as JSON:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;people&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;person&#34;</span>: [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;firstName&#34;</span>: <span style=color:#e6db74>&#34;Alan&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;lastName&#34;</span>: <span style=color:#e6db74>&#34;Turing&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;professions&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;profession&#34;</span>: [<span style=color:#e6db74>&#34;Computer Scientist&#34;</span>, <span style=color:#e6db74>&#34;Mathematician&#34;</span>,
</span></span><span style=display:flex><span>                         <span style=color:#e6db74>&#34;Computer Scientist&#34;</span>, <span style=color:#e6db74>&#34;Cryptographer&#34;</span>]
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span>       },
</span></span><span style=display:flex><span>       {
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;firstName&#34;</span>: <span style=color:#e6db74>&#34;Stephen&#34;</span>,
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;lastName&#34;</span>: <span style=color:#e6db74>&#34;Hawking&#34;</span>,
</span></span><span style=display:flex><span>         <span style=color:#e6db74>&#34;professions&#34;</span>: {
</span></span><span style=display:flex><span>           <span style=color:#e6db74>&#34;profession&#34;</span>: [<span style=color:#e6db74>&#34;Physicist&#34;</span>, <span style=color:#e6db74>&#34;Comedian&#34;</span>]
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span>       }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>Reading JSON</h3><div id=outline-text-headline-6 class=outline-text-3><p>Use Python's built-in <a href=https://docs.python.org/3/library/json.html>JSON encoder and decoder</a></p><ul><li>Loading from a string:</li></ul><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [<span style=color:#ae81ff>2</span>]: json<span style=color:#f92672>.</span>loads(<span style=color:#e6db74>&#39;{&#34;CS4400&#34;: [&#34;CS1301&#34;,&#34;CS1315&#34;,&#34;CS1371&#34;], &#34;CS3600&#34;:[&#34;CS1332&#34;]}&#39;</span>)
</span></span><span style=display:flex><span>Out[<span style=color:#ae81ff>2</span>]: {<span style=color:#e6db74>&#39;CS3600&#39;</span>: [<span style=color:#e6db74>&#39;CS1332&#39;</span>], <span style=color:#e6db74>&#39;CS4400&#39;</span>: [<span style=color:#e6db74>&#39;CS1301&#39;</span>, <span style=color:#e6db74>&#39;CS1315&#39;</span>, <span style=color:#e6db74>&#39;CS1371&#39;</span>]}</span></span></code></pre></div></div><ul><li>Loading from a file (notice that you must provide a file object, not just a file name):</li></ul><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [<span style=color:#ae81ff>8</span>]: cat fall2017<span style=color:#f92672>-</span>breaks<span style=color:#f92672>.</span>json
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-09-04&#34;</span>: <span style=color:#e6db74>&#34;Labor Day&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-10-09&#34;</span>: <span style=color:#e6db74>&#34;Fall Student Recess&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-10-09&#34;</span>: <span style=color:#e6db74>&#34;Fall Student Recess&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-11-22&#34;</span>: <span style=color:#e6db74>&#34;Student Recess&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-11-23&#34;</span>: <span style=color:#e6db74>&#34;Thanksgiving Break&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;2017-11-24&#34;</span>: <span style=color:#e6db74>&#34;Thanksgiving Break&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>9</span>]: json<span style=color:#f92672>.</span>load(open(<span style=color:#e6db74>&#39;fall2017-breaks.json&#39;</span>))
</span></span><span style=display:flex><span>Out[<span style=color:#ae81ff>9</span>]:
</span></span><span style=display:flex><span>{<span style=color:#e6db74>&#39;2017-09-04&#39;</span>: <span style=color:#e6db74>&#39;Labor Day&#39;</span>,
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#39;2017-10-09&#39;</span>: <span style=color:#e6db74>&#39;Fall Student Recess&#39;</span>,
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#39;2017-11-22&#39;</span>: <span style=color:#e6db74>&#39;Student Recess&#39;</span>,
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#39;2017-11-23&#39;</span>: <span style=color:#e6db74>&#39;Thanksgiving Break&#39;</span>,
</span></span><span style=display:flex><span> <span style=color:#e6db74>&#39;2017-11-24&#39;</span>: <span style=color:#e6db74>&#39;Thanksgiving Break&#39;</span>}</span></span></code></pre></div></div></div></div><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7>Writing JSON</h3><div id=outline-text-headline-7 class=outline-text-3><ul><li>Dumping to a string</li></ul><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [<span style=color:#ae81ff>11</span>]: prereqs <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;CS3600&#39;</span>: [<span style=color:#e6db74>&#39;CS1332&#39;</span>], <span style=color:#e6db74>&#39;CS4400&#39;</span>: [<span style=color:#e6db74>&#39;CS1301&#39;</span>, <span style=color:#e6db74>&#39;CS1315&#39;</span>, <span style=color:#e6db74>&#39;CS1371&#39;</span>]}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>12</span>]: json<span style=color:#f92672>.</span>dumps(prereqs)
</span></span><span style=display:flex><span>Out[<span style=color:#ae81ff>12</span>]: <span style=color:#e6db74>&#39;{&#34;CS3600&#34;: [&#34;CS1332&#34;], &#34;CS4400&#34;: [&#34;CS1301&#34;, &#34;CS1315&#34;, &#34;CS1371&#34;]}&#39;</span></span></span></code></pre></div></div><ul><li>Dumping to a file (notice the write-mode file object):</li></ul><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>In [<span style=color:#ae81ff>14</span>]: json<span style=color:#f92672>.</span>dump(prereqs, open(<span style=color:#e6db74>&#39;prereqs.json&#39;</span>, <span style=color:#e6db74>&#39;wt&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>In [<span style=color:#ae81ff>15</span>]: cat prereqs<span style=color:#f92672>.</span>json
</span></span><span style=display:flex><span>{<span style=color:#e6db74>&#34;CS3600&#34;</span>: [<span style=color:#e6db74>&#34;CS1332&#34;</span>], <span style=color:#e6db74>&#34;CS4400&#34;</span>: [<span style=color:#e6db74>&#34;CS1301&#34;</span>, <span style=color:#e6db74>&#34;CS1315&#34;</span>, <span style=color:#e6db74>&#34;CS1371&#34;</span>]}</span></span></code></pre></div></div></div></div></div></div></main><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script></body></html>