<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Dr. CS codes SQL DDL and CRUD</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=https://DrCS.codes/css/navbar-top-fixed.css rel=stylesheet></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/data-manipulation>SQL DDL and CRUD</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><main role=main class=container><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>SQL DDL and CRUD</h2><div id=outline-text-headline-1 class=outline-text-2><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Structured Query Language</h3><div id=outline-text-headline-2 class=outline-text-3><ul><li>Practical implementation of the relational model</li><li>Originally SEQUEL (Structured English QEUry Language) at IBM research</li><li>SQL became standard in 1986</li><li>Supported by all major RDBMS vendors, with minor (and sometimes major) differences</li></ul><p>SQL's big advantage: if you stick to ANSI SQL, your database code is portable between RDBMS systems.</p></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>SQL Relational Model</h3><div id=outline-text-headline-3 class=outline-text-3><ul><li>Relations are <strong>tables</strong></li><li>Tuples are <strong>rows</strong></li><li>Attributes are <strong>columns</strong></li></ul><p>For the most part these terms are interchangeable.</p><ul><li>Important difference: tables allow duplicate rows</li></ul></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Schemas and Catalogs</h3><div id=outline-text-headline-4 class=outline-text-3><p>A <strong>schema</strong> (database in the relational model) is a collection of related tables and constructs. A schema has:</p><ul><li>a schema name</li><li>an authorization identifier (user who owns the schema)</li></ul><p>In MySQL <code>create schema</code> is a synonym for <code>create database</code>.</p><p>A catalog is a named collection of schemas. MySQL includes a <code>table_catalog</code> column in its <code>information_schema.tables</code> table for compatibility with the SQL standard, but does not use catalogs.</p></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>CREATE TABLE</h3><div id=outline-text-headline-5 class=outline-text-3><p>The <code>CREATE TABLE</code> command creates a <strong>base table</strong> (<code>CREATE VIEW</code> creates a <strong>virtual</strong> or <strong>derived</strong> table):</p><p>General form:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>table_name</span><span style=color:#f92672>&gt;</span> (
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column_name</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>column_type<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>column_constraints<span style=color:#f92672>&gt;</span>...,
</span></span><span style=display:flex><span> [... ,]
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;</span>table_constraints<span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span> [...]
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>CREATE TABLE Example</h3><div id=outline-text-headline-6 class=outline-text-3><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>REFERENCES</span> book(book_id)
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>By convention, SQL keywords are in ALL CAPS in instructional examples but not when typing.\\</p><p>Note: see <a href=http://csimpkins.github.io/databases/resources/pubs-schema.sql>pubs-schema.sql</a> and <a href=http://csimpkins.github.io/dtabases/resources/pubs-data.sql>pubs-data.sql</a> for examples of SQL database creation and population commands.</p></div></div><div id=outline-container-headline-7 class=outline-3><h3 id=headline-7>Column Types</h3><div id=outline-text-headline-7 class=outline-text-3><p>Each column, or attribute, is given a data type (domain in the relational model). MySQL has</p><ul><li>Numeric data types,</li><li>String data types, and</li><li>Temporal data types.</li></ul><p>Get comprehensive doucmentation at <a href=http://dev.mysql.com/doc/refman/5.7/en/data-types.html><a href=http://dev.mysql.com/doc/refman/5.7/en/data-types.html>http://dev.mysql.com/doc/refman/5.7/en/data-types.html</a></a>. We'll cover the most commonly used data types.</p></div></div><div id=outline-container-headline-8 class=outline-3><h3 id=headline-8>Numeric Data Types</h3><div id=outline-text-headline-8 class=outline-text-3><ul><li><code>INT</code></li><li><code>FLOAT</code> or <code>DOUBLE</code></li><li><code>DECIMAL</code></li></ul></div></div><div id=outline-container-headline-9 class=outline-3><h3 id=headline-9>String Data Types</h3><div id=outline-text-headline-9 class=outline-text-3><ul><li><code>CHAR</code></li><li><code>VARCHAR</code></li><li><code>TEXT</code></li><li><code>ENUM</code></li></ul></div></div><div id=outline-container-headline-10 class=outline-3><h3 id=headline-10>Temporal Data Types</h3><div id=outline-text-headline-10 class=outline-text-3><ul><li><code>DATE</code> - 'YYY-MM-DD'</li><li><code>DATETIME</code> - 'YYYY-MM-DD HH:MM:SS' - stored in "local time"</li><li><code>TIMESTAMP</code> - 'YYYY-MM-DD HH:MM:SS' - converted to UTC based on client's time zone, converted to local time based on client's time zone</li><li><code>TIME</code> - 'HH:MM:SS' â€“ be sure to include the colons if you abbreviate</li></ul><p>See the <a href=https://dev.mysql.com/doc/refman/5.7/en/date-and-time-types.html>MySQL reference manual section on date and time types</a>.</p></div></div><div id=outline-container-headline-11 class=outline-3><h3 id=headline-11>Constraints</h3><div id=outline-text-headline-11 class=outline-text-3><ul><li>Attribute (a.k.a. column) constraints</li><li>Key (a.k.a. unique)</li><li>Primary key</li><li>Foreign key</li></ul><p>We'll also learn named constraints, assertions and triggers in Advanced SQL.</p></div></div><div id=outline-container-headline-12 class=outline-3><h3 id=headline-12>Key and Primary Key Constraints</h3><div id=outline-text-headline-12 class=outline-text-3><p>Key:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>  name CHAR(<span style=color:#ae81ff>10</span>) <span style=color:#66d9ef>UNIQUE</span>,</span></span></code></pre></div></div><p>Primary key:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,</span></span></code></pre></div></div><p>A primary key is implicitly <code>UNIQUE</code></p></div></div><div id=outline-container-headline-13 class=outline-3><h3 id=headline-13>Foreign Key Constraints</h3><div id=outline-text-headline-13 class=outline-text-3><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>  book_id INT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>REFERENCES</span> book(book_id)</span></span></code></pre></div></div><p>Notice also that we don't allow <code>book_id</code> to be <code>NULL</code>. So <code>pub</code> totally participates in its relationship with <code>book</code>.</p></div></div><div id=outline-container-headline-14 class=outline-3><h3 id=headline-14>CHECK Constraints</h3><div id=outline-text-headline-14 class=outline-text-3><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> bartender (
</span></span><span style=display:flex><span>  id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  name VARCHAR(<span style=color:#ae81ff>10</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  age INT <span style=color:#66d9ef>CHECK</span> (age <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>Note: MySQL does not enforce <code>CHECK</code> constraints. We'll learn about triggers in Advanced SQL.</p></div></div><div id=outline-container-headline-15 class=outline-3><h3 id=headline-15>INSERT Command</h3><div id=outline-text-headline-15 class=outline-text-3><p>General form is</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>table_name</span><span style=color:#f92672>&gt;</span> (<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column_name</span><span style=color:#f92672>&gt;</span> [, ...]) <span style=color:#66d9ef>VALUES</span> (<span style=color:#f92672>&lt;</span>new_value<span style=color:#f92672>&gt;</span> [, ...]);</span></span></code></pre></div></div><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> author (author_id, first_name, second_name)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;Jenny&#34;</span>,<span style=color:#e6db74>&#34;McCarthy&#34;</span>);</span></span></code></pre></div></div><p>Can leave off column names list to insert positionally:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> author <span style=color:#66d9ef>values</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;Jenny&#34;</span>,<span style=color:#e6db74>&#34;McCarthy&#34;</span>);</span></span></code></pre></div></div></div></div><div id=outline-container-headline-16 class=outline-3><h3 id=headline-16>UPDATE Command</h3><div id=outline-text-headline-16 class=outline-text-3><p>General form:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>table_name</span><span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>SET</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>column_name</span><span style=color:#f92672>&gt;=&lt;</span>new_value<span style=color:#f92672>&gt;</span> [, ...] <span style=color:#66d9ef>WHERE</span> expression</span></span></code></pre></div></div><p>Example: Surely we meant Lisp inventor, AI co-founder, and Turing Award winner
John McCarthy instead of anti-vaxxer Jenny McCarthy.</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>update</span> author <span style=color:#66d9ef>set</span> first_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;John&#39;</span> <span style=color:#66d9ef>where</span> last_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;McCarthy&#39;</span>;</span></span></code></pre></div></div><p>Notice that we can use single or double quotes in most RDBMS systems.</p></div></div><div id=outline-container-headline-17 class=outline-3><h3 id=headline-17>DELETE Command</h3><div id=outline-text-headline-17 class=outline-text-3><p>General form:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>table_name</span><span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>WHERE</span> <span style=color:#f92672>&lt;</span>boolean_expression<span style=color:#f92672>&gt;</span>;</span></span></code></pre></div></div><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>delete</span> <span style=color:#66d9ef>from</span> author <span style=color:#66d9ef>where</span> last_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Batty&#34;</span>;</span></span></code></pre></div></div><p>Can also drop whole tables:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>table_name</span><span style=color:#f92672>&gt;</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-18 class=outline-3><h3 id=headline-18>Referential Integrity</h3><div id=outline-text-headline-18 class=outline-text-3><p>To maintain integrity on update or delete specify:</p><ul><li><p>For <code>ON DELETE</code>:</p><ul><li><code>SET NULL</code></li><li><code>SET DEFAULT</code></li></ul></li><li><p>For <code>ON UPDATE</code></p><ul><li><code>CASCADE</code></li></ul></li></ul><p>Note: for MySQL <code>ON DELETE RESTRICT</code> is the default.</p></div></div><div id=outline-container-headline-19 class=outline-3><h3 id=headline-19>Referential Integrity - SET NULL</h3><div id=outline-text-headline-19 class=outline-text-3><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT,
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>foreign</span> <span style=color:#66d9ef>key</span> (book_id) <span style=color:#66d9ef>REFERENCES</span> book(book_id) <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>Means that if the row from the <code>book</code> table containing <code>book_id</code> is deleted, then <code>book_id</code> is set to <code>NULL</code> for each affected row in the <code>pub</code> table.</p><p>Notice that if you choose <code>SET NULL</code> as your <code>ON DELETE</code> action your column definition must allow nulls.</p></div></div><div id=outline-container-headline-20 class=outline-3><h3 id=headline-20>Referential Integrity Constraints in MySQL</h3><div id=outline-text-headline-20 class=outline-text-3><p>MySQL will only enforce referential integrity contraints that are specfied separately from column definitions as above. The following syntax:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT <span style=color:#66d9ef>REFERENCES</span> book(book_id) <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>is valid SQL syntax but is ignored by MySQL's default InnoDB engine.</p></div></div><div id=outline-container-headline-21 class=outline-3><h3 id=headline-21>Referential Integrity - SET DEFAULT</h3><div id=outline-text-headline-21 class=outline-text-3><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT <span style=color:#66d9ef>DEFAULT</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>REFERENCES</span> book(book_id) <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>DEFAULT</span>
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>Means that if the row from the <code>book</code> table containing <code>book_id</code> is deleted, then <code>book_id</code> is set to <code>0</code> for each affected row in the <code>pub</code> table.</p><p>Note: MySQL's default InnoDB engine does not implement <code>ON DELETE SET DEFAULT</code>.</p></div></div><div id=outline-container-headline-22 class=outline-3><h3 id=headline-22>Referential Integrity - CASCADE</h3><div id=outline-text-headline-22 class=outline-text-3><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (book_id) <span style=color:#66d9ef>REFERENCES</span> book(book_id) <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div><p>Means that if a <code>book_id</code> value changes for a row in the <code>book</code> table, the change is applied to the affected rows of the <code>pub</code> table also.</p></div></div><div id=outline-container-headline-23 class=outline-3><h3 id=headline-23>Multiple Referential Integrity Constraints</h3><div id=outline-text-headline-23 class=outline-text-3><p>You would normally set contraints for updates and deletes.</p><p>Example:</p><div class="src src-sql"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> pub (
</span></span><span style=display:flex><span>  pub_id INT <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>  title VARCHAR(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>  book_id INT,
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span> (book_id) <span style=color:#66d9ef>REFERENCES</span> book(book_id)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>CASCADE</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>SET</span> <span style=color:#66d9ef>NULL</span>
</span></span><span style=display:flex><span>);</span></span></code></pre></div></div></div></div></div></div></main><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script></body></html>