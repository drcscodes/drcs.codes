<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Text Utilities</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=/css/navbar-fixed-top.css rel=stylesheet><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script>
<script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script><script type=text/x-mathjax-config>
  MathJax.Hub.Queue(function() {
    // Fix <code> tags after MathJax finishes running. This is a
    // hack to overcome a shortcoming of Markdown. Discussion at
    // https://github.com/mojombo/jekyll/issues/199
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i &lt; all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/python></a>
<span class=navbar-toggler-icon></span></a><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link onclick=history.back()>Back to course</a></li></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><div class=container><h1 id=text-utilities>Text Utilities</h1><h2 id=introduction>Introduction</h2><p>In this assignment you&rsquo;ll practice</p><ul><li>writing functions and modules,</li><li>doing arithmetic calculations,</li><li>simple text processing,</li><li>manipulating data structures and</li><li>testing modules with doctest.</li></ul><h2 id=problem-description>Problem Description</h2><p>You need to do some text processing and decide to write a few utility functions to get started.</p><h2 id=solution-description>Solution Description</h2><p>Write a module named <code>textutil</code> with the functions specified below.</p><h3 id=doctest><code>doctest</code></h3><p>The specification for each function is given as a <a href=https://www.python.org/dev/peps/pep-0257/>docstring</a> &ndash; which you should include in your code &ndash; and the types of arguments and return values are given using type hints documented in <a href=https://www.python.org/dev/peps/pep-0484/>PEP 484 &ndash; Type Hints</a>.</p><p>Because each function will have a docstring that includes usage examples formatted as Python interactive sessions, you can use <a href=https://docs.python.org/3/library/doctest.html>doctest</a> to test your code using this command line invocation:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>python -m doctest -v textutil.py
</span></span></code></pre></div><h3 id=required-functions>Required Functions</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>long_words</span>(text, n):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Return the words in text that are longer than n.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    text: str -- the text of interest
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Return: Sequence[int] -- words in text that are longer than n
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage Examples:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; long_words(&#39;I do not write good&#39;, 3)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    [&#39;write&#39;, &#39;good&#39;]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>num_long_words</span>(text, n):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Return the number of words in text that are longer than n.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    text: str -- the text of interest
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Return: int -- the number of words in text that are longer than n
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage Examples:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; num_long_words(&#39;I do not write good&#39;, 3)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>count_if</span>(sequence, predicate):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Count the number of elements in sequence that satisfy predicate function.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    sequence: Sequence -- a sequence of elements of any type
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    predicate: Function: Any -&gt; bool -- a function that takes a single parameter and returns a
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    bool
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage Examples:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; count_if([0, 1, 2, 3, 4], lambda x: x % 2 == 0)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    3
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; count_if([&#39;fe&#39;, &#39;fi&#39;, &#39;fo&#39;, &#39;fum&#39;], lambda s: len(s) &gt; 2)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>word_counts</span>(sentence_list):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Return a dictionary mapping words in normalized text to their
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    counts in the text.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    sentence_list: List[str] - a list of sentences
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Return: a Dict[str, int] whose keys are words and associated values are
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    the number of times the word appears in the sentences in sentence_list
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage Examples: (Note technique for testing dict equality.)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; word_counts([&#34;i dont even have any skills&#34;, &#34;i have numchuk skills </span><span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span><span style=color:#e6db74>    bow hunting skills computer hacking skills&#34;]) == {&#39;have&#39;: 2, &#39;numchuk&#39;: 1, </span><span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span><span style=color:#e6db74>    &#39;hacking&#39;: 1, &#39;i&#39;: 2, &#39;even&#39;: 1, &#39;computer&#39;: 1, &#39;any&#39;: 1, &#39;bow&#39;: 1,</span><span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span><span style=color:#e6db74>    &#39;hunting&#39;: 1, &#39;dont&#39;: 1, &#39;skills&#39;: 4}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    True
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>make_tups</span>(seq1, seq2):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Convert seq1 and seq2 to a list of tuples with corresponding elements of
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    seq1 and seq2.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Parameters:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    seq1: Sequence[Any] -- a sequence of elements of any type
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    seq2: Sequence[Any] -- a sequence of elements of any type
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Return: Sequence[(Any, Any)] - a sequence of 2-tuples where the ith tuples
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    contain the ith elements of seq1 and seq2. Length of returned list is
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    length of shortest input seq
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage Examples:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; make_tups([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], [1, 2, 3])
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    [(&#39;a&#39;, 1), (&#39;b&#39;, 2), (&#39;c&#39;, 3)]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span></code></pre></div><h3 id=testing-your-module-interactively>Testing Your Module Interactively</h3><p>In addition to running the doctests as described above, you can import your <code>textutil</code> module in the Python REPL to test your functions as you write and modify them. For example, ssuming you&rsquo;re in the same directory as your <code>textutil.py</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span>Python <span style=color:#ae81ff>3.6.1</span> <span style=color:#f92672>|</span>Continuum Analytics, Inc<span style=color:#f92672>.|</span> (default, Jul  <span style=color:#ae81ff>2</span> <span style=color:#ae81ff>2016</span>, <span style=color:#ae81ff>17</span>:<span style=color:#ae81ff>53</span>:<span style=color:#ae81ff>06</span>)
</span></span><span style=display:flex><span>[GCC <span style=color:#ae81ff>4.4.7</span> <span style=color:#ae81ff>20120313</span> (Red Hat <span style=color:#ae81ff>4.4.7</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)] on linux
</span></span><span style=display:flex><span>Type <span style=color:#e6db74>&#34;help&#34;</span>, <span style=color:#e6db74>&#34;copyright&#34;</span>, <span style=color:#e6db74>&#34;credits&#34;</span> <span style=color:#f92672>or</span> <span style=color:#e6db74>&#34;license&#34;</span> <span style=color:#66d9ef>for</span> more information<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> hw1
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> hw1<span style=color:#f92672>.</span>palindrome(<span style=color:#e6db74>&#34;a but tuba&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>True</span>
</span></span></code></pre></div><p>After you modify your module you&rsquo;ll need to restart your Python REPL, or reload it using the <code>importlib</code> module:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> importlib <span style=color:#66d9ef>as</span> imp
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> imp<span style=color:#f92672>.</span>reload(textutil)
</span></span></code></pre></div></div><script src=js/bootstrap.min.js></script></body></html>