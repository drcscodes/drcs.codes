<!doctype html><html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>Dr. CS codes </title>
<meta name=viewport content="width=device-width">
<link rel=stylesheet href=http://DrCS.codes//css/syntax.css>
<link rel=stylesheet href=http://DrCS.codes//css/main.css>
<link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous>
<link href=http://DrCS.codes//css/navbar-top-fixed.css rel=stylesheet>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
<a class=navbar-brand href=/intensive-python></a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span>
</button>
<div class="navbar-collapse collapse" id=navbarCollapse>
<ul class="navbar-nav mr-auto">
<li class=nav-item><a class=nav-link href=/intensive-python/getting-started/>Getting Started</a></li>
<li class=nav-item><a class=nav-link href=/intensive-python/lessons/>Lessons</a></li>
</ul>
<ul class="navbar-nav pull-right">
<li class="nav-item pull-right"><a class=nav-link href=http://DrCS.codes/>Dr. CS codes</a></li>
</ul>
</div>
</nav>
<main role=main class=container>
<p>% Functions
% CS1 Python</p>
<h2 id=functions>Functions</h2>
<p>A function is a reusable block of code. Functions</p>
<ul>
<li>have names (usually),</li>
<li>contain a sequence of statements, and</li>
<li>return values, either explicitly or implicitly.</li>
</ul>
<p>We&rsquo;ve already used several built-in functions. Today we will learn how to define our own.</p>
<h2 id=hello-functions>Hello, Functions!</h2>
<p>We define a function using the def keyword:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>say_hello</span>():
<span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#39;Hello&#39;</span>)
<span style=color:#f92672>...</span>
</code></pre></div><p>(blank line tells Python shell you&rsquo;re finished defining the function)</p>
<p>Once the function is defined, you can call it:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> say_hello()
Hello
</code></pre></div><h2 id=defining-functions>Defining Functions</h2>
<p>The general form of a function definition is</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#66d9ef>def</span> <span style=color:#f92672>&lt;</span>function_name<span style=color:#f92672>&gt;</span>(<span style=color:#f92672>&lt;</span>parameter_list<span style=color:#f92672>&gt;</span>):
    <span style=color:#f92672>&lt;</span>function_body<span style=color:#f92672>&gt;</span>
</code></pre></div><ul>
<li>The first line is called the header.</li>
<li><code>function_name</code> is the name you use to call the function.</li>
<li><code>parameter_list</code> is a list of parameters to the function, which may be empty.</li>
<li><code>function_body</code> is a sequence of expressions and statements.</li>
</ul>
<h2 id=function-parameters>Function Parameters</h2>
<p>Provide a list of parameter names inside the parentheses of the function header, which creates local variables in the function.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>say_hello</span>(greeting):
<span style=color:#f92672>...</span>     print(greeting)
<span style=color:#f92672>...</span>
</code></pre></div><p>Then call the function by passing <em>arguments</em> to the function: values that are bound to parameter names.</p>
<p>Here we pass the value &lsquo;Hello&rsquo;, which is bound to <code>say_hello</code>&rsquo;s parameter <code>greeting</code> and printed to the console by the code inside <code>say_hello</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> say_hello(<span style=color:#e6db74>&#39;Hello&#39;</span>)
Hello
</code></pre></div><p>Here we pass the value &lsquo;Guten Tag!':</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> say_hello(<span style=color:#e6db74>&#39;Guten Tag!&#39;</span>)
Guten Tag<span style=color:#960050;background-color:#1e0010>!</span>
</code></pre></div><h2 id=variable-scope>Variable Scope</h2>
<p>Parameters are local variables. They are not visible outside the function:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> greeting
Traceback (most recent call last):
  File <span style=color:#e6db74>&#34;&lt;stdin&gt;&#34;</span>, line <span style=color:#ae81ff>1</span>, <span style=color:#f92672>in</span> <span style=color:#f92672>&lt;</span>module<span style=color:#f92672>&gt;</span>
<span style=color:#a6e22e>NameError</span>: name <span style=color:#e6db74>&#39;greeting&#39;</span> <span style=color:#f92672>is</span> <span style=color:#f92672>not</span> defined
</code></pre></div><p>Global variables are visible outside the function and inside the function.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> global_hello
<span style=color:#e6db74>&#39;Bonjour&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>say_global_hello</span>():
<span style=color:#f92672>...</span>     print(global_hello)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> say_global_hello()
Bonjour
</code></pre></div><h2 id=shadowing-global-variables>Shadowing Global Variables</h2>
<p>Local variables shadow global variables.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>():
<span style=color:#f92672>...</span>     x <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
<span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;local x:&#34;</span>, x)
<span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;global x:&#34;</span>, globals()[<span style=color:#e6db74>&#34;x&#34;</span>])
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> f()
local x: <span style=color:#ae81ff>2</span>
<span style=color:#66d9ef>global</span> x: <span style=color:#ae81ff>1</span>
</code></pre></div><ul>
<li>Tip: evaluate <code>globals()["__name__"]</code> in the Python REPL.</li>
</ul>
<p>A function parameter is a local variable.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> greeting <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Hi ya!&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(greeting):
<span style=color:#f92672>...</span>     print(greeting)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greeting
<span style=color:#e6db74>&#39;Hi ya!&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Hello&#39;</span>)
Hello
</code></pre></div><h2 id=namespaces>Namespaces</h2>
<p>Every place where a variable can be defined is called a <em>namespace</em> or a <em>frame</em> (sometimes also called a <em>symbol table</em>, which is how namespaces are implemented by compilers and interpreters).</p>
<ul>
<li>Top level, or <em>global</em> names (either the Python REPL or a script) are in a namespace called <code>__main__</code>.</li>
<li>Each function <em>call</em> also gets a namespace for the local variables in the function.</li>
<li>These namespaces are hierarchical &ndash; name resolution starts with the innermost namespace, which is why local variables &ldquo;hide&rdquo; or &ldquo;shadow&rdquo; global variables.</li>
</ul>
<h2 id=memory-model-with-function-calls>Memory Model With Function Calls</h2>
<h2 id=redefining-names>Redefining Names</h2>
<p>A function a kind of variable. If you define a function with the same name as a variable, it re-binds the name, and vice-versa.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour&#39;</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>global_hello</span>():
<span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#39;This is the global_hello() function.&#39;</span>)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> global_hello
<span style=color:#f92672>&lt;</span>function global_hello at <span style=color:#ae81ff>0x10063b620</span><span style=color:#f92672>&gt;</span>
</code></pre></div><h2 id=python-scope-gotchas>Python Scope Gotchas</h2>
<p>Python has notoriously weird scoping rules.</p>
<h2 id=muliple-parameters>Muliple Parameters</h2>
<p>A function can take any number of parameters.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, greeting):
<span style=color:#f92672>...</span>     print(greeting <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>)
Greetings, Professor Falken
</code></pre></div><p>Parameters can be of multiple types.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, greeting, number):
<span style=color:#f92672>...</span>     print(greeting <span style=color:#f92672>*</span> number <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>, <span style=color:#ae81ff>2</span>)
GreetingsGreetings, Professor Falken
</code></pre></div><h2 id=positional-and-keyword-arguments>Positional and Keyword Arguments</h2>
<p>Thus far we&rsquo;ve called functions using positional arguments, meaning that argument values are bound to parameters in the order in which they appear in the call.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, greeting, number):
<span style=color:#f92672>...</span>     print(greeting <span style=color:#f92672>*</span> number <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>, <span style=color:#ae81ff>2</span>)
</code></pre></div><p>We can also call functions with keyword arguments in any order.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> greet(greeting<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Hello&#39;</span>, number<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Dolly&#39;</span>)
HelloHello, Dolly
</code></pre></div><p>If you call a function with both positional and keyword arguments, the positional ones must come first.</p>
<h2 id=default-parameter-values>Default Parameter Values</h2>
<p>You can specify default parameter values so that you don&rsquo;t have to provide an argument.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, greeting<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Hello&#39;</span>):
<span style=color:#f92672>...</span>     print(greeting <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Elmo&#39;</span>)
Hello, Elmo
</code></pre></div><p>If you provide an argument for a parameter with a default value, the parameter takes the argument value passed in the call instead of the default value.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Elmo&#39;</span>, <span style=color:#e6db74>&#39;Hi&#39;</span>)
Hi, Elmo
</code></pre></div><h2 id=return-values>Return Values</h2>
<p>Functions return values.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>double</span>(num):
<span style=color:#f92672>...</span>     <span style=color:#66d9ef>return</span> num <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> double(<span style=color:#ae81ff>2</span>)
<span style=color:#ae81ff>4</span>
</code></pre></div><p>If you don&rsquo;t explicitly return a value, <code>None</code> is returned implicitly.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>g</span>():
<span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;man&#34;</span>) <span style=color:#75715e># This is not a return!</span>
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> fbi <span style=color:#f92672>=</span> g()
man <span style=color:#75715e># This is a side-effect of calling g(), not a return value</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> type(fbi)
<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>NoneType</span><span style=color:#e6db74>&#39;&gt;</span>
</code></pre></div><p>Function calls are expressions like any other, that is, a function call has a value, so a function call can appear anywhere a value can appear.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> double(<span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> double(<span style=color:#ae81ff>3</span>)
<span style=color:#ae81ff>10</span>
</code></pre></div><h2 id=function-design-recipe>Function Design Recipe</h2>
<ol>
<li>
<p>Examples</p>
<ul>
<li>What a few representative calls to the function look like in the Python REPL.
<ul>
<li>Think from the function <em>user&rsquo;s</em> perspective.</li>
<li>Examples become doctests in the function&rsquo;s docstring.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Header</p>
<ul>
<li>Parameter names and types</li>
<li>Return type</li>
</ul>
</li>
<li>
<p>Description</p>
<ul>
<li>Short paragraph (1 or 2 sentences) describing the function&rsquo;s behavior.</li>
</ul>
</li>
<li>
<p>Body</p>
<ul>
<li>Implement the algorithm (sequence of statements) that accomplishes the function&rsquo;s task, deriving the function&rsquo;s output (return value) and/or effect from the the function&rsquo;s inputs (arguments).</li>
</ul>
</li>
<li>
<p>Test</p>
<ul>
<li>Test your function on some representative inputs (try to include edge cases).</li>
</ul>
</li>
</ol>
<h2 id=writing-function-examples>Writing Function Examples</h2>
<p>Let&rsquo;s apply this design recipe in the creation of a simple function to calculate the length of the hypotenuse from the lengths of the two legs (the sides that join in a right angle).</p>
<p>First, decide the name of the function.</p>
<ul>
<li>
<p>Descriptive word(s)</p>
<ul>
<li>Verbs may imply an imperative function called for its effect, not a return value
<ul>
<li><code>print("hello")</code>, <code>exit()</code></li>
</ul>
</li>
<li>Nouns may imply a pure function, a return value derived only from the function&rsquo;s arguments with no side effects
<ul>
<li><code>type(1)</code>, <code>double(2)</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Avoid Python keywords or names of library functions.</p>
<ul>
<li>
<p>Tip:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> keyword
<span style=color:#f92672>&gt;&gt;&gt;</span> keyword<span style=color:#f92672>.</span>kwlist <span style=color:#75715e># lists all the Python keywords</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> keyword<span style=color:#f92672>.</span>iskeyword(<span style=color:#e6db74>&#34;foo&#34;</span>) <span style=color:#75715e># True if &#34;foo&#34; is a keyword</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p>Follow Python&rsquo;s <a href=https://www.python.org/dev/peps/pep-0008/>naming conventions</a>.</p>
</li>
</ul>
<h2 id=hypotenuse-function-examples>Hypotenuse Function Examples</h2>
<p>We&rsquo;ll name our function <code>hypotenuse</code>. General naming tips:</p>
<ul>
<li>Only abbreviate if abbreviation is well-known or obvious
<ul>
<li>If you must, form a new abbreviation by eliminating vowels starting from the right, e.g., <code>format</code> $\rightarrow$ <code>formt</code> $\rightarrow$ <code>fmt</code></li>
</ul>
</li>
<li>Some abbreviations are idiomatic, e.g., <code>i</code> as an loop variable used as an <code>int</code> index</li>
<li>Length of the name should be inversely proportional to its scope
<ul>
<li>Local variables can be short</li>
<li>Modules, functions, and classes should have more descriptive names</li>
</ul>
</li>
</ul>
<p>Our examples:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> hypotenuse(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>)
<span style=color:#ae81ff>5</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> hypotenuse(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>12</span>)
<span style=color:#ae81ff>13</span>
</code></pre></div><h2 id=function-headers>Function Headers</h2>
<p>The function header includes the function&rsquo;s name and parameter names. We add a <em>type contract</em>, which we document using Python&rsquo;s new (as of 3.5) <a href=https://docs.python.org/3/library/typing.html>type hints</a> feature. Here are a few basic types. A full explanation is in <a href=https://www.python.org/dev/peps/pep-0484>PEP 484</a>, including a complete list of <a href=https://www.python.org/dev/peps/pep-0484/#the-typing-module>types in the <code>typing</code> module</a></p>
<p>:::::::::::::: {.columns}
::: {.column width=&ldquo;40%"}</p>
<ul>
<li><code>int</code></li>
<li><code>float</code></li>
<li><code>str</code>
:::
::: {.column width=&ldquo;60%"}</li>
<li><code>List[int]</code></li>
<li><code>Tuple[float]</code></li>
<li><code>Dict[str, int]</code>
:::
::::::::::::::</li>
</ul>
<h2 id=hypotenuse-function-header>Hypotenuse Function Header</h2>
<p>Deciding on the type contract of <code>hypotenuse</code>:</p>
<ul>
<li>The sides of a triangle are measured with numbers. What kind of numbers, <code>int</code>s, <code>floats</code>?</li>
<li>The return value is also a number. Is the return type the same type as the parameters?</li>
</ul>
<p>Since integer values can be represented as <code>float</code>s, we settle on the this:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
</code></pre></div><p>The type contract says: if you pass two values of type <code>float</code> in your call to <code>hypotenuse</code>, the function will return a value of type <code>float</code>.</p>
<h2 id=hypotenuse-function-description>Hypotenuse Function Description</h2>
<p>The function description states what the functions does. We place this description in the function&rsquo;s <a href=https://www.python.org/dev/peps/pep-0257/>docstring</a>. Any string that occurs as the first item in the definition of a module, function, class, or method is a docstring. By convention we use triple double quotes for docstrings.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</code></pre></div><p>This incomplete but legal version of the function returns <code>None</code> because it doesn&rsquo;t have a return statement.</p>
<ul>
<li>Tip: We can <em>stub</em> the function with a return statement that returns a dummy value, like 0.0, so code that uses our function will work but produce incorrect results. That way we can get the &ldquo;plumbing&rdquo; of our program working before filling in the details of the functions.</li>
</ul>
<h2 id=designing-a-function-body>Designing a Function Body</h2>
<p>The function body implements an algorithm that produces the functions output (or effect) based on the function&rsquo;s inputs. The algorithm for calculating a hypotenuse is:</p>
<ol>
<li>Square leg <code>a</code></li>
<li>Square leg <code>b</code></li>
<li>Sum the squares</li>
<li>Take the square root of the sum of the squares.</li>
</ol>
<p>The last step produces the final result.</p>
<p>Later in the course will learn how to design algorithms. FOr now we can think of algorithm design intuitively.</p>
<p>The next slide shows the algorithm above translated to Python code.</p>
<h2 id=hypotenuse-function-body>Hypotenuse Function Body</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>import</span> math

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
    a2 <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a
    b2 <span style=color:#f92672>=</span> b <span style=color:#f92672>*</span> b
    sum_squares <span style=color:#f92672>=</span> a2 <span style=color:#f92672>+</span> b2
    result <span style=color:#f92672>=</span> math<span style=color:#f92672>.</span>sqrt(sum_squares)
    <span style=color:#66d9ef>return</span> result
</code></pre></div><p>Of course this function can be shortened, but this version shows every detail.</p>
<h2 id=testing-the-hypotenuse-function>Testing the Hypotenuse Function</h2>
<p>We can test our function manually in the REPL or by adding example functions calls to a script. We should also add the examples we created in step 1 of the function design recipe to the docstring.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>import</span> math

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>    &gt;&gt;&gt; hypotenuse(3, 4)
</span><span style=color:#e6db74>    5
</span><span style=color:#e6db74>    &gt;&gt;&gt; hypotenuse(5, 12)
</span><span style=color:#e6db74>    13
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
    a2 <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a
    b2 <span style=color:#f92672>=</span> b <span style=color:#f92672>*</span> b
    sum_squares <span style=color:#f92672>=</span> a2 <span style=color:#f92672>+</span> b2
    result <span style=color:#f92672>=</span> math<span style=color:#f92672>.</span>sqrt(sum_squares)
    <span style=color:#66d9ef>return</span> result
</code></pre></div><p>If we do this then we get automated testing for free with <a href=https://docs.python.org/3/library/doctest.html>doctest</a>.</p>
<h1 id=advanced-python-function-features>Advanced Python Function Features</h1>
<h2 id=variable-argument-lists>Variable Argument Lists</h2>
<p>You can collect a variable number of positional arguments as a tuple by preprending a parameter name with <code>*</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>echo</span>(<span style=color:#f92672>*</span>args):
<span style=color:#f92672>...</span>     print(args)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> echo(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;fish&#39;</span>, <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;fish&#39;</span>)
(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;fish&#39;</span>, <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;fish&#39;</span>)
</code></pre></div><p>You can collect variable keyword arguments as a dictionary with <code>**</code></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>print_dict</span>(<span style=color:#f92672>**</span>kwargs):
<span style=color:#f92672>...</span>     print(kwargs)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> print_dict(a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, steak<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sauce&#39;</span>)
{<span style=color:#e6db74>&#39;a&#39;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;steak&#39;</span>: <span style=color:#e6db74>&#39;sauce&#39;</span>}
</code></pre></div><h2 id=inner-functions>Inner Functions</h2>
<p>Information hiding is a general principle of software engineering. If you only need a function in one place, inside another function, you can declare it inside that function so that it is visible only in that function.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Python data-lang=Python><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>factorial</span>(n):
<span style=color:#f92672>...</span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>fac_iter</span>(n, accum):
<span style=color:#f92672>...</span>        <span style=color:#66d9ef>if</span> n <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>:
<span style=color:#f92672>...</span>            <span style=color:#66d9ef>return</span> accum
<span style=color:#f92672>...</span>        <span style=color:#66d9ef>return</span> fac_iter(n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, n <span style=color:#f92672>*</span> accum)
<span style=color:#f92672>...</span>    <span style=color:#66d9ef>return</span> fac_iter(n, <span style=color:#ae81ff>1</span>)
<span style=color:#f92672>...</span>
<span style=color:#f92672>&gt;&gt;&gt;</span> factorial(<span style=color:#ae81ff>5</span>)
<span style=color:#ae81ff>120</span>
</code></pre></div><p><code>fac_iter()</code> is a (tail) recursive function. Recursion is important for computer scientists, but a practically-oriented Python-programming engineer will mostly use iteration, higher-order functions and loops, which are more <a href=http://neopythonic.blogspot.com/2009/04/tail-recursion-elimination.html>Pythonic</a>. Any recursive computation can be formulated as an imperative computation.</p>
</main>
<script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script>
</body>
</html>