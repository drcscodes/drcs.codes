<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Dr. CS codes Functions</title><meta name=viewport content="width=device-width"><link rel=stylesheet href=https://DrCS.codes/css/syntax.css><link rel=stylesheet href=https://DrCS.codes/css/main.css><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link href=https://DrCS.codes/css/navbar-top-fixed.css rel=stylesheet></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class=navbar-brand href=/programming-python>Functions</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"></ul><ul class="navbar-nav pull-right"><li class="nav-item pull-right"><a class=nav-link href=https://DrCS.codes>Dr. CS codes</a></li></ul></div></nav><main role=main class=container><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Functions</h2><div id=outline-text-headline-1 class=outline-text-2><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Functions</h3><div id=outline-text-headline-2 class=outline-text-3><p>A function is a reusable block of code. Functions</p><ul><li>have names (usually),</li><li>contain a sequence of statements, and</li><li>return values, either explicitly or implicitly.</li></ul><p>We've already used several built-in functions. Today we will learn how to define our own.</p></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Hello, Functions!</h3><div id=outline-text-headline-3 class=outline-text-3><p>We define a function using the def keyword:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>():
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#39;Hello&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span></span></span></code></pre></div></div><p>(blank line tells Python shell you're finished defining the function)</p><p>Once the function is defined, you can call it:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet()
</span></span><span style=display:flex><span>Hello</span></span></code></pre></div></div><p>> What happens if you evaluate <code>greet</code> (without the <code>()</code>) in the Python REPL?</p></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Defining Functions</h3><div id=outline-text-headline-4 class=outline-text-3><p>The general form of a function definition is</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#f92672>&lt;</span>function_name<span style=color:#f92672>&gt;</span>(<span style=color:#f92672>&lt;</span>parameter_list<span style=color:#f92672>&gt;</span>):
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>function_body<span style=color:#f92672>&gt;</span></span></span></code></pre></div></div><ul><li>The first line is called the header.</li><li><code>function_name</code> is the name you use to call the function.</li><li><code>parameter_list</code> is a list of parameters to the function, which may be empty.</li><li><code>function_body</code> is a sequence of expressions and statements.</li></ul></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Function Parameters</h3><div id=outline-text-headline-5 class=outline-text-3><p>Provide a list of parameter names inside the parentheses of the function header, which creates local variables in the function.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name):
</span></span><span style=display:flex><span>        g <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello, &#34;</span> <span style=color:#f92672>+</span> name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(g)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span></span></span></code></pre></div></div><p>Then call the function by passing <strong>arguments</strong> to the function: values that are bound to parameter names.</p><p>Here we pass the value 'Hello', which is bound to <code>greet</code>'s parameter <code>name</code> and printed to the console by the code inside <code>greet</code>.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Dolly&#39;</span>)
</span></span><span style=display:flex><span>Hello, Dolly<span style=color:#960050;background-color:#1e0010>!</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-6 class=outline-3><h3 id=headline-6>Function Call Semantics</h3><div id=outline-text-headline-6 class=outline-text-3><div id=outline-container-headline-7 class=outline-4><h4 id=headline-7>:BMCOL:B_block:</h4><div id=outline-text-headline-7 class=outline-text-4><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> g <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Dolly&#34;</span></span></span></code></pre></div></div><p>Creates a global value<sup class=footnote-reference><a id=footnote-reference-1 href=#footnote-1>1</a></sup>.</p><div class="src src-ditaa"><pre tabindex=0><code class=language-ditaa data-lang=ditaa>+-------------------------------+
|global scope                   |
|                addr1          |
|           +-----+-------+     |
|  +-----+  | str |       |     |
| g|addr1+-&gt;+-----+       |     |
|  +-----+  |    Dolly    |     |
|           +-------------+     |
+-------------------------------+</code></pre></div><p><img src=diagrams/dolly.png alt=diagrams/dolly.png title=diagrams/dolly.png></p></div></div><div id=outline-container-headline-8 class=outline-4><h4 id=headline-8>:BMCOL:B_block:</h4><div id=outline-text-headline-8 class=outline-text-4><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(g)</span></span></code></pre></div></div><p>Passes argument <code>g</code> <em>by value</em>, that is, the object pointer in <code>g</code> is copied to <code>greet</code>'s <code>name</code> parameter.</p><div class="src src-ditaa"><pre tabindex=0><code class=language-ditaa data-lang=ditaa>+-------------------------------+
|global scope                   |
|                addr1          |
|           +-----+-------+     |
|  +-----+  | str |       |     |
| g|addr1+-&gt;+-----+       |     |
|  +-----+  |    Dolly    |     |
|           +-------------+     |
|                  ^            |
|                  |            |
|                  |            |
| +----------------|----------+ |
| |greet scope     |          | |
| |                |          | |
| |     +-----+    |          | |
| | name|addr1+----/          | |
| |     +-----+               | |
| +---------------------------+ |
+-------------------------------+</code></pre></div><p><img src=diagrams/greet-dolly.png alt=diagrams/greet-dolly.png title=diagrams/greet-dolly.png></p></div></div><div id=outline-container-headline-9 class=outline-4><h4 id=headline-9>:BMCOL:B_block:</h4><div id=outline-text-headline-9 class=outline-text-4><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name):
</span></span><span style=display:flex><span>    g <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello, &#34;</span><span style=color:#f92672>+</span>name<span style=color:#f92672>+</span><span style=color:#e6db74>&#34;!&#34;</span>
</span></span><span style=display:flex><span>    print(g)</span></span></code></pre></div></div><p>Notice that <code>greet</code>'s <code>g</code> shadows the global <code>g</code>.</p><div class="src src-ditaa"><pre tabindex=0><code class=language-ditaa data-lang=ditaa>+-----------------------------------+
|global scope                       |
|                  addr1            |
|             +-----+-------+       |
|    +-----+  | str |       |       |
|   g|addr1+-&gt;+-----+       |       |
|    +-----+  |    Dolly    |       |
|             +-------------+       |
|                    ^              |
|                    |              |
|                    |              |
|   +----------------|----------+   |
|   |greet scope     |          |   |
|   |                |          |   |
|   |     +-----+    |          |   |
|   | name|addr1+----/          |   |
|   |     +-----+               |   |
|   |                           |   |
|   |           +-----+-------+ |   |
|   |  +-----+  | str |       | |   |
|   | g|addr2+-&gt;+-----+       | |   |
|   |  +-----+  |Hello, Dolly!| |   |
|   |           +-------------+ |   |
|   +---------------------------+   |
+-----------------------------------+</code></pre></div><p><img src=diagrams/greet-scoppe.png alt=diagrams/greet-scoppe.png title=diagrams/greet-scoppe.png></p></div></div></div></div><div id=outline-container-headline-10 class=outline-3><h3 id=headline-10>Strict Argument Evaluation</h3><div id=outline-text-headline-10 class=outline-text-3><p>Arguments to functions are evaluated strictly, meaning that they are evaluated before control is transferred to the function body.</p><p>Here we pass the value 'Guten Tag!':</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Guten Tag!&#39;</span>)
</span></span><span style=display:flex><span>Guten Tag<span style=color:#960050;background-color:#1e0010>!</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-11 class=outline-3><h3 id=headline-11>Variable Scope</h3><div id=outline-text-headline-11 class=outline-text-3><p>Parameters are local variables. They are not visible outside the function:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> name
</span></span><span style=display:flex><span>Traceback (most recent call last):
</span></span><span style=display:flex><span>  File <span style=color:#e6db74>&#34;&lt;stdin&gt;&#34;</span>, line <span style=color:#ae81ff>1</span>, <span style=color:#f92672>in</span> <span style=color:#f92672>&lt;</span>module<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>NameError</span>: name <span style=color:#e6db74>&#39;name&#39;</span> <span style=color:#f92672>is</span> <span style=color:#f92672>not</span> defined</span></span></code></pre></div></div><p>Global variables are visible outside the function and inside the function.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Bonjour&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>say_global_hello</span>():
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(global_hello)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> say_global_hello()
</span></span><span style=display:flex><span>Bonjour</span></span></code></pre></div></div></div></div><div id=outline-container-headline-12 class=outline-3><h3 id=headline-12>Shadowing Global Variables</h3><div id=outline-text-headline-12 class=outline-text-3><p>Local variables shadow global variables.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> x <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>():
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     x <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;local x:&#34;</span>, x)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;global x:&#34;</span>, globals()[<span style=color:#e6db74>&#34;x&#34;</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> f()
</span></span><span style=display:flex><span>local x: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>global</span> x: <span style=color:#ae81ff>1</span></span></span></code></pre></div></div><ul><li>Tip: evaluate <code>globals()["__name__"]</code> in the Python REPL.</li></ul><p>A function parameter is a local variable.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Hi ya!&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(name)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> name
</span></span><span style=display:flex><span><span style=color:#e6db74>&#39;Hi ya!&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Hello&#39;</span>)
</span></span><span style=display:flex><span>Hello</span></span></code></pre></div></div></div></div><div id=outline-container-headline-13 class=outline-3><h3 id=headline-13>Namespaces</h3><div id=outline-text-headline-13 class=outline-text-3><p>Every place where a variable can be defined is called a <strong>namespace</strong> or a <strong>frame</strong> (sometimes also called a <strong>symbol table</strong>, which is how namespaces are implemented by compilers and interpreters).</p><ul><li>Top level, or <strong>global</strong> names (either the Python REPL or a script) are in a namespace called <code>__main__</code>.</li><li>Each function <strong>call</strong> also gets a namespace for the local variables in the function.</li><li>These namespaces are hierarchical – name resolution starts with the innermost namespace, which is why local variables "hide" or "shadow" global variables.</li></ul></div></div><div id=outline-container-headline-14 class=outline-3><h3 id=headline-14>Memory Model With Function Calls</h3></div><div id=outline-container-headline-15 class=outline-3><h3 id=headline-15>Redefining Names</h3><div id=outline-text-headline-15 class=outline-text-3><p>A function a kind of variable. If you define a function with the same name as a variable, it re-binds the name, and vice-versa.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bonjour&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>global_hello</span>():
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#39;This is the global_hello() function.&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> global_hello
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>function global_hello at <span style=color:#ae81ff>0x10063b620</span><span style=color:#f92672>&gt;</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-16 class=outline-3><h3 id=headline-16>Python Scope Gotchas</h3><div id=outline-text-headline-16 class=outline-text-3><p>Python has notoriously weird scoping rules.</p></div></div><div id=outline-container-headline-17 class=outline-3><h3 id=headline-17>Muliple Parameters</h3><div id=outline-text-headline-17 class=outline-text-3><p>A function can take any number of parameters.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, name):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>)
</span></span><span style=display:flex><span>Greetings, Professor Falken</span></span></code></pre></div></div><p>Parameters can be of multiple types.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, name, number):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(name <span style=color:#f92672>*</span> number <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>GreetingsGreetings, Professor Falken</span></span></code></pre></div></div></div></div><div id=outline-container-headline-18 class=outline-3><h3 id=headline-18>Positional and Keyword Arguments</h3><div id=outline-text-headline-18 class=outline-text-3><p>Thus far we've called functions using positional arguments, meaning that argument values are bound to parameters in the order in which they appear in the call.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, name, number):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(name <span style=color:#f92672>*</span> number <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Professor Falken&#39;</span>, <span style=color:#e6db74>&#39;Greetings&#39;</span>, <span style=color:#ae81ff>2</span>)</span></span></code></pre></div></div><p>We can also call functions with keyword arguments in any order.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Hello&#39;</span>, number<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Dolly&#39;</span>)
</span></span><span style=display:flex><span>HelloHello, Dolly</span></span></code></pre></div></div><p>If you call a function with both positional and keyword arguments, the positional ones must come first.</p></div></div><div id=outline-container-headline-19 class=outline-3><h3 id=headline-19>Default Parameter Values</h3><div id=outline-text-headline-19 class=outline-text-3><p>You can specify default parameter values so that you don't have to provide an argument.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>greet</span>(name, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Hello&#39;</span>):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;, &#39;</span> <span style=color:#f92672>+</span> name)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Elmo&#39;</span>)
</span></span><span style=display:flex><span>Hello, Elmo</span></span></code></pre></div></div><p>If you provide an argument for a parameter with a default value, the parameter takes the argument value passed in the call instead of the default value.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> greet(<span style=color:#e6db74>&#39;Elmo&#39;</span>, <span style=color:#e6db74>&#39;Hi&#39;</span>)
</span></span><span style=display:flex><span>Hi, Elmo</span></span></code></pre></div></div></div></div><div id=outline-container-headline-20 class=outline-3><h3 id=headline-20>Return Values</h3><div id=outline-text-headline-20 class=outline-text-3><p>Functions return values.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>double</span>(num):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     <span style=color:#66d9ef>return</span> num <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> double(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span></span></span></code></pre></div></div><p>If you don't explicitly return a value, <code>None</code> is returned implicitly.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>g</span>():
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(<span style=color:#e6db74>&#34;man&#34;</span>) <span style=color:#75715e># This is not a return!</span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> fbi <span style=color:#f92672>=</span> g()
</span></span><span style=display:flex><span>man <span style=color:#75715e># This is a side-effect of calling g(), not a return value</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> type(fbi)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>NoneType</span><span style=color:#e6db74>&#39;&gt;</span></span></span></code></pre></div></div><p>Function calls are expressions like any other, that is, a function call has a value, so a function call can appear anywhere a value can appear.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> double(<span style=color:#ae81ff>2</span>) <span style=color:#f92672>+</span> double(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>10</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-21 class=outline-3><h3 id=headline-21>Function Design Recipe</h3><div id=outline-text-headline-21 class=outline-text-3><ol><li><p>Examples</p><ul><li><p>What a few representative calls to the function look like in the Python REPL.</p><ul><li>Think from the function <strong>user's</strong> perspective.</li><li>Examples become doctests in the function's docstring.</li></ul></li></ul></li><li><p>Header</p><ul><li>Parameter names and types</li><li>Return type</li></ul></li><li><p>Description</p><ul><li>Short paragraph (1 or 2 sentences) describing the function's behavior.</li></ul></li><li><p>Body</p><ul><li>Implement the algorithm (sequence of statements) that accomplishes the function's task, deriving the function's output (return value) and/or effect from the the function's inputs (arguments).</li></ul></li><li><p>Test</p><ul><li>Test your function on some representative inputs (try to include edge cases).</li></ul></li></ol></div></div><div id=outline-container-headline-22 class=outline-3><h3 id=headline-22>Writing Function Examples</h3><div id=outline-text-headline-22 class=outline-text-3><p>Let's apply this design recipe in the creation of a simple function to calculate the length of the hypotenuse from the lengths of the two legs (the sides that join in a right angle).</p><p>First, decide the name of the function.</p><ul><li><p>Descriptive word(s)</p><ul><li><p>Verbs may imply an imperative function called for its effect, not a return value</p><ul><li><code>print("hello")</code>, <code>exit()</code></li></ul></li><li><p>Nouns may imply a pure function, a return value derived only from the function's arguments with no side effects</p><ul><li><code>type(1)</code>, <code>double(2)</code></li></ul></li></ul></li><li><p>Avoid Python keywords or names of library functions.</p><ul><li><p>Tip:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#f92672>import</span> keyword
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> keyword<span style=color:#f92672>.</span>kwlist <span style=color:#75715e># lists all the Python keywords</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> keyword<span style=color:#f92672>.</span>iskeyword(<span style=color:#e6db74>&#34;foo&#34;</span>) <span style=color:#75715e># True if &#34;foo&#34; is a keyword</span></span></span></code></pre></div></div></li></ul></li><li>Follow Python's <a href=https://www.python.org/dev/peps/pep-0008/>naming conventions</a>.</li></ul></div></div><div id=outline-container-headline-23 class=outline-3><h3 id=headline-23>Hypotenuse Function Examples</h3><div id=outline-text-headline-23 class=outline-text-3><p>We'll name our function <code>hypotenuse</code>. General naming tips:</p><ul><li><p>Only abbreviate if abbreviation is well-known or obvious</p><ul><li>If you must, form a new abbreviation by eliminating vowels starting from the right, e.g., <code>format</code> $\rightarrow$ <code>formt</code> $\rightarrow$ <code>fmt</code></li></ul></li><li>Some abbreviations are idiomatic, e.g., <code>i</code> as an loop variable used as an <code>int</code> index</li><li><p>Length of the name should be inversely proportional to its scope</p><ul><li>Local variables can be short</li><li>Modules, functions, and classes should have more descriptive names</li></ul></li></ul><p>Our examples:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> hypotenuse(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> hypotenuse(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>12</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>13</span></span></span></code></pre></div></div></div></div><div id=outline-container-headline-24 class=outline-3><h3 id=headline-24>Function Headers</h3><div id=outline-text-headline-24 class=outline-text-3><p>The function header includes the function's name and parameter names. We add a <strong>type contract</strong>, which we document using Python's new (as of 3.5) <a href=https://docs.python.org/3/library/typing.html>type hints</a> feature. Here are a few basic types. A full explanation is in <a href=https://www.python.org/dev/peps/pep-0484>PEP 484</a>, including a complete list of <a href=https://www.python.org/dev/peps/pep-0484/#the-typing-module>types in the <code>typing</code> module</a></p><p>:::::::::::::: {.columns}
::: {.column width="40%"}</p><ul><li><code>int</code></li><li><code>float</code></li><li><code>str</code></li></ul><p>::: {.column width="60%"}</p><ul><li><code>List[int]</code></li><li><code>Tuple[float]</code></li><li><code>Dict[str, int]</code></li></ul><p>:::</p><p>::::::::::::::</p></div></div><div id=outline-container-headline-25 class=outline-3><h3 id=headline-25>Hypotenuse Function Header</h3><div id=outline-text-headline-25 class=outline-text-3><p>Deciding on the type contract of <code>hypotenuse</code>:</p><ul><li>The sides of a triangle are measured with numbers. What kind of numbers, <code>int~s, ~floats</code>?</li><li>The return value is also a number. Is the return type the same type as the parameters?</li></ul><p>Since integer values can be represented as ~float~s, we settle on the this:</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:</span></span></code></pre></div></div><p>The type contract says: if you pass two values of type <code>float</code> in your call to <code>hypotenuse</code>, the function will return a value of type <code>float</code>.</p></div></div><div id=outline-container-headline-26 class=outline-3><h3 id=headline-26>Hypotenuse Function Description</h3><div id=outline-text-headline-26 class=outline-text-3><p>The function description states what the functions does. We place this description in the function's <a href=https://www.python.org/dev/peps/pep-0257/>docstring</a>. Any string that occurs as the first item in the definition of a module, function, class, or method is a docstring. By convention we use triple double quotes for docstrings.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span></span></span></code></pre></div></div><p>This incomplete but legal version of the function returns <code>None</code> because it doesn't have a return statement.</p><ul><li>Tip: We can <strong>stub</strong> the function with a return statement that returns a dummy value, like 0.0, so code that uses our function will work but produce incorrect results. That way we can get the "plumbing" of our program working before filling in the details of the functions.</li></ul></div></div><div id=outline-container-headline-27 class=outline-3><h3 id=headline-27>Designing a Function Body</h3><div id=outline-text-headline-27 class=outline-text-3><p>The function body implements an algorithm that produces the functions output (or effect) based on the function's inputs. The algorithm for calculating a hypotenuse is:</p><ol><li>Square leg <code>a</code></li><li>Square leg <code>b</code></li><li>Sum the squares</li><li>Take the square root of the sum of the squares.</li></ol><p>The last step produces the final result.</p><p>Later in the course will learn how to design algorithms. FOr now we can think of algorithm design intuitively.</p><p>The next slide shows the algorithm above translated to Python code.</p></div></div><div id=outline-container-headline-28 class=outline-3><h3 id=headline-28>Hypotenuse Function Body</h3><div id=outline-text-headline-28 class=outline-text-3><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> math
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    a2 <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a
</span></span><span style=display:flex><span>    b2 <span style=color:#f92672>=</span> b <span style=color:#f92672>*</span> b
</span></span><span style=display:flex><span>    sum_squares <span style=color:#f92672>=</span> a2 <span style=color:#f92672>+</span> b2
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> math<span style=color:#f92672>.</span>sqrt(sum_squares)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result</span></span></code></pre></div></div><p>Of course this function can be shortened, but this version shows every detail.</p></div></div><div id=outline-container-headline-29 class=outline-3><h3 id=headline-29>Testing the Hypotenuse Function</h3><div id=outline-text-headline-29 class=outline-text-3><p>We can test our function manually in the REPL or by adding example functions calls to a script. We should also add the examples we created in step 1 of the function design recipe to the docstring.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> math
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hypotenuse</span>(a: float, b: float) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Take the lengths of the two legs, a and b, of a right triangle
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    and return the length of the hypotenuse.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; hypotenuse(3, 4)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    5
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; hypotenuse(5, 12)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    13
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    a2 <span style=color:#f92672>=</span> a <span style=color:#f92672>*</span> a
</span></span><span style=display:flex><span>    b2 <span style=color:#f92672>=</span> b <span style=color:#f92672>*</span> b
</span></span><span style=display:flex><span>    sum_squares <span style=color:#f92672>=</span> a2 <span style=color:#f92672>+</span> b2
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> math<span style=color:#f92672>.</span>sqrt(sum_squares)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result</span></span></code></pre></div></div><p>If we do this then we get automated testing for free with <a href=https://docs.python.org/3/library/doctest.html>doctest</a>.</p></div></div><div id=outline-container-headline-30 class=outline-3><h3 id=headline-30>Variable Argument Lists</h3><div id=outline-text-headline-30 class=outline-text-3><p>You can collect a variable number of positional arguments as a tuple by preprending a parameter name with <code>*</code></p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>echo</span>(<span style=color:#f92672>*</span>args):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(args)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> echo(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;fish&#39;</span>, <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;fish&#39;</span>)
</span></span><span style=display:flex><span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;fish&#39;</span>, <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;fish&#39;</span>)</span></span></code></pre></div></div><p>You can collect variable keyword arguments as a dictionary with <code>**</code></p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>print_dict</span>(<span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>     print(kwargs)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> print_dict(a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, steak<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;sauce&#39;</span>)
</span></span><span style=display:flex><span>{<span style=color:#e6db74>&#39;a&#39;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;steak&#39;</span>: <span style=color:#e6db74>&#39;sauce&#39;</span>}</span></span></code></pre></div></div></div></div><div id=outline-container-headline-31 class=outline-3><h3 id=headline-31>Inner Functions</h3><div id=outline-text-headline-31 class=outline-text-3><p>Information hiding is a general principle of software engineering. If you only need a function in one place, inside another function, you can declare it inside that function so that it is visible only in that function.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>factorial</span>(n):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>fac_iter</span>(n, accum):
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>        <span style=color:#66d9ef>if</span> n <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>            <span style=color:#66d9ef>return</span> accum
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>        <span style=color:#66d9ef>return</span> fac_iter(n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, n <span style=color:#f92672>*</span> accum)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>    <span style=color:#66d9ef>return</span> fac_iter(n, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> factorial(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span><span style=color:#ae81ff>120</span></span></span></code></pre></div></div><p><code>fac_iter()</code> is a (tail) recursive function. Recursion is important for computer scientists, but a practically-oriented Python-programming engineer will mostly use iteration, higher-order functions and loops, which are more <a href=http://neopythonic.blogspot.com/2009/04/tail-recursion-elimination.html>Pythonic</a>. Any recursive computation can be formulated as an imperative computation.</p></div></div></div></div><div class=footnotes><hr class=footnotes-separatator><div class=footnote-definitions><div class=footnote-definition><sup id=footnote-1><a href=#footnote-reference-1>1</a></sup><div class=footnote-body><p>Since <code>str</code> is a sequence data structure, this memory image is a slight simplification.</p></div></div></div></div></main><script src=https://code.jquery.com/jquery-3.2.1.slim.min.js integrity=sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js integrity=sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q crossorigin=anonymous></script>
<script src=../js/bootstrap.min.js></script></body></html>